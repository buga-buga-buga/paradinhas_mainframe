# Testes Unit√°rios em COBOL
  
Walter BUGA Ramos  
buga.bug.buga@gmail.com

---
# √çndice - Esse Documento

---

## Compila√ß√£o e Execu√ß√£o de M√≥dulos Cobol

- **CLG#001** - Compila, linka e executa m√≥dulo fonte Cobol  
- **CLG#002** - Compila, linka e executa m√≥dulo fonte Cobol *(evolu√ß√£o)*  
- **CLG#003** - Compila, linka e executa m√≥dulo fonte Cobol *(evolu√ß√£o 2)*  

---

## Pre-compilador

- **ZUTZCPC** - C√≥digo fonte do pre-compilador  
- **ZUTZCPD** - Book de instru√ß√µes do pre-compilador  
- **ZUTZCWS** - Book de vari√°veis do pre-compilador  

---

## Programa de Teste

- **SAMPLE** - Programa Cobol que ser√° objeto do teste  
- **SAMPLET** - Instru√ß√µes do que quer que seja testado  
          ‚ùó *N√£o consegui rodar como particionado*  
           ‚ö† *Utilize: `BUGAARQ.SIGLA.SAMPLET`*  

---

## Arquivo de Configura√ß√£o

- **UTSTCFG** - *Configuration file*  

---

Essa vers√£o mant√©m a estrutura original e melhora a legibilidade com **Markdown**, incluindo t√≠tulos, negrito, it√°lico e √≠cones para destacar pontos importantes. Se quiser ajustes, me avise! üöÄüòÉ

## Entendendo o cen√°rio de desenvolvimento de Software

**Cobol Unit Test - CUT**  
- Projeto colaborativo dispon√≠vel no [GitHub](https://github.com/neopragma/cobol-unit-test)[1]
- Pr√©-Compilador escrito em Cobol que gera um programa Cobol espec√≠fico com o caso de testes a ser executado[1]

---

## Pir√¢mide de Testes
```            
             /  \
            /     \
           /        \
          /           \
         /Explorat√≥rios\
        /________________\
       / End to End       \
      /____________________\
     / Testes de Componente \  
    /________________________\
   /       Integra√ß√£o         \
  /____________________________\
 /           UNIT√ÅRIO           \
/________________________________\

```
- **Explorat√≥rios**: Testes manuais para descobrir comportamentos inesperados.
- **End to End**: Testes que validam o fluxo completo do sistema.
- **Testes de Componente**: Validam partes isoladas do sistema.
- **Integra√ß√£o**: Verificam a intera√ß√£o entre componentes.
- **Unit√°rio**: Testam unidades individuais de c√≥digo.
---

## Metodologia de desenvolvimento

A arquitetura mainframe √© diferente da distribu√≠da e da nuvem[1].  
A linguagem procedural (Cobol/PL1/Rexx) √© diferente da orienta√ß√£o a objetos[1].  
Entretanto, vamos utilizar conceitos de outras arquiteturas e linguagens para melhorar a qualidade de nosso c√≥digo e facilitar a codifica√ß√£o[1]!

---

## (Des)conceituando o teste unit√°rio

Procura verificar se o c√≥digo est√° correto, em sua menor parte[1].  
A menor parte do fonte a ser testado √© um m√©todo de uma classe[1].  
Sendo assim, os testes unit√°rios s√£o aplicados a esses m√©todos, a partir da cria√ß√£o de classes de testes[1].

---

## Ent√£o o que testar no COBOL?

Ainda n√£o temos um conceito formado sobre isso, mas esperamos que seja algo parecido com o mock de outras linguagens[1].  
Num dos exemplos do projeto da ferramenta, o teste versa sobre o conte√∫do de vari√°vel esperada depois da execu√ß√£o de uma section[1].

---

## Funcionamento da ferramenta

Por algum motivo que desconhe√ßo, n√£o tem nada sobre como rodar a ferramenta no mainframe; no micro funciona de boa, s√≥ seguir o texto base que tem l√° no Git[1].  
A importa√ß√£o dos fontes e adapta√ß√µes foram tranquilas e alguns ajustes foram necess√°rios[1].  
O que mais demorou e que apanhei um bocado foi pra gerar o JCL ‚Äúredondinho‚Äù[1].

---

## Etapas

Depois da ferramenta ter sido compilada e linkeditada, temos[1]:
- Rodar a ferramenta informando o programa e os casos de teste[1]
- Compilar/Linkeditar o ‚Äúprograma‚Äù gerado[1]
- Executar esse ‚Äòprograma‚Äô com os casos de teste[1]

---

## M√£os √† obra!

Particionado com os componentes necess√°rios est√° dispon√≠vel em:  
**WALBUGA.SIGLA.CUT.COBOL**[1]

---

## Obrigado!

